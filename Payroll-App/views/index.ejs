<!-- <!DOCTYPE html>
<html>
<head>
    <title>Employee Dashboard</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>

<h1>Employee Payroll Dashboard</h1>

<a href="/add" class="btn">Add Employee</a>

<table>
    <tr>
         
        <th>Name</th>
        <th>Gender</th>
        <th>Department</th>
        <th>Basic Salary</th>
        <th>Tax (12%)</th>
        <th>Net Salary</th>
        <th>Actions</th>
    </tr>

    <% employees.forEach(emp => { 
        let tax = emp.salary * 0.12;
        let net = emp.salary - tax;
    %>
    <tr>
         
        <td><%= emp.name %></td>
        <td><%= emp.gender %></td>
        <td><%= emp.department %></td>
        <td>₹<%= emp.salary %></td>
        <td>₹<%= tax %></td>
        <td>₹<%= net %></td>
        <td>
            <a href="/edit/<%= emp.id %>">Edit</a> |
            <a href="/delete/<%= emp.id %>" 
               onclick="return confirm('Are you sure?')">Delete</a>
        </td>
    </tr>
    <% }) %>

</table>

</body>
</html> -->





 
<!DOCTYPE html>
<html>
<head>
    <title>Employee Dashboard</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>

<div class="container">

    <h1>Employee Payroll Dashboard</h1>

    <a href="/add" class="btn add-btn">+ Add Employee</a>

     
    <div class="cards">
        <div class="card">
            <h3>Total Employees</h3>
            <p><%= employees.length %></p>
        </div>

        <div class="card">
            <h3>Total Basic Salary</h3>
            <p>
                ₹<%= employees.reduce((sum, emp) => sum + emp.salary, 0).toFixed(2) %>
            </p>
        </div>

        <div class="card">
            <h3>Total Tax (12%)</h3>
            <p>
                ₹<%= employees.reduce((sum, emp) => sum + (emp.salary * 0.12), 0).toFixed(2) %>
            </p>
        </div>

        <div class="card">
            <h3>Total Net Salary</h3>
            <p>
                ₹<%= employees.reduce((sum, emp) => sum + (emp.salary * 0.88), 0).toFixed(2) %>
            </p>
        </div>
    </div>

  <!-- ===== Employee Table ===== -->
    <table>
        <tr>
            <th>Name</th>
            <th>Gender</th>
            <th>Department</th>
            <th>Basic Salary</th>
            <th>Tax (12%)</th>
            <th>Net Salary</th>
            <th>Actions</th>
        </tr>

        <% employees.forEach(emp => { 
            let tax = emp.salary * 0.12;
            let net = emp.salary - tax;
        %>
        <tr>
            <td><%= emp.name %></td>
            <td><%= emp.gender %></td>
            <td><%= emp.department %></td>
            <td>₹<%= emp.salary.toFixed(2) %></td>
            <td>₹<%= tax.toFixed(2) %></td>
            <td>₹<%= net.toFixed(2) %></td>
            <td>
                <a href="/edit/<%= emp.id %>" class="edit-btn">Edit</a>
                <a href="/delete/<%= emp.id %>" 
                   class="delete-btn"
                   onclick="return confirm('Are you sure?')">
                   Delete
                </a>
            </td>
        </tr>
        <% }) %>
    </table>

</div>

</body>
</html> 


 